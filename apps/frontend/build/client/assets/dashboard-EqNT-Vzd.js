import{w as J,a,p as e}from"./chunk-OIYGIGL5-Ts-zf3fD.js";import{c as h,u as I,e as K,t as Q,f as X,g as Z,h as ee,i as te,d as D,j as se,b as ae}from"./createLucideIcon-D5afcRJv.js";import{u as re}from"./use-toast-evsOeytk.js";import{a as v,F as i,C as S,G as ne,T as oe}from"./UtilityComponents-CGL66K5l.js";import{u as ie,e as E,B as o,f as b,g as j,h as T,i as $,C as ce,j as U,a as w}from"./UIComponents-Hsi92piH.js";import"./avatar-C7Pgygx3.js";import{T as d}from"./terminal-C25PQKZk.js";import"./index-CDHdnVW9.js";import"./index-myKQ8QYU.js";import"./index-CVOLSXQ2.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],N=h("check",le);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],me=h("chevron-left",de);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],he=h("chevron-right",xe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],F=h("download",pe);function ke({}){return[{title:"Dashboard - Web to MCP"},{name:"description",content:"Manage your captures and MCP configuration"},{property:"og:title",content:"Dashboard - Web to MCP"},{property:"og:description",content:"Manage your captures and MCP configuration"},{property:"og:image",content:"/og.png"},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"630"},{property:"og:image:type",content:"image/png"},{property:"og:type",content:"website"},{property:"og:site_name",content:"Web to MCP"},{property:"og:url",content:"https://web-to-mcp.com/dashboard"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:"Dashboard - Web to MCP"},{name:"twitter:description",content:"Manage your captures and MCP configuration"},{name:"twitter:image",content:"/og.png"}]}function ge(){const{user:p,logout:c}=I();re();const[n,C]=a.useState(!1),[y,W]=a.useState([]),[B,z]=a.useState(!0),[l,k]=a.useState(1),[m,A]=a.useState(1),[x,M]=a.useState(null),[P,_]=a.useState(!1),{scrollY:L}=ie();E(L,[0,800],[0,-80]),E(L,[0,800],[0,-40]);const R=!1;a.useEffect(()=>{const t=s=>{const r=s.target;if(!r||!(r instanceof Element)){_(!1);return}r.closest(".user-dropdown")||_(!1)};return P&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[P]);const G=async(t=1)=>{try{z(!0);const s=await Z.get(`/api/captures/list/?page=${t}`,{withCredentials:!0});W(s.data.results),A(Math.ceil(s.data.count/10))}catch(s){console.error("Failed to fetch captures:",s),ee("/api/captures/list/",s instanceof Error?s.message:"Unknown error")}finally{z(!1)}};a.useEffect(()=>{K(),Q("Dashboard",window.location.href),G(l)},[l]);const O=async()=>{if(!n){C(!0);try{te(),D("logout_button","dashboard"),await c(),window.location.href="/"}catch(t){console.error("Logout failed:",t),window.location.href="/"}finally{C(!1)}}},g=async(t,s)=>{try{if(await navigator.clipboard.writeText(t),M(s),setTimeout(()=>M(null),2e3),s.includes("capture"))se(s);else if(s.includes("mcp")){const r=s.includes("cursor")?"cursor":"claude";ae(r)}D("copy_button",s)}catch(r){console.error("Failed to copy to clipboard:",r)}},u=()=>p?.mcp_url||"",H=()=>`"web-to-mcp": {
  "url": "${u()}"
}`,V=()=>`claude mcp add --transport http web-to-mcp ${u()}`,q=t=>`Use the web-to-mcp tool with reference ${t} to implement the fetched website component.`,f=({text:t,buttonType:s,label:r})=>e.jsxs("button",{onClick:()=>g(t,s),className:`
        flex-1 flex items-center justify-center gap-1 px-3 py-2 text-sm border rounded
        transition-all duration-200 hover:scale-105
        border-emerald-500/40 text-emerald-400 hover:border-emerald-500/60 hover:bg-emerald-500/10 cursor-pointer
        ${x===s?"bg-emerald-500/20 border-emerald-500/80":""}
      `,children:[x===s?e.jsx(N,{className:"w-4 h-4"}):e.jsx(w,{className:"w-4 h-4"}),r]}),Y=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-zinc-100 antialiased relative overflow-hidden",children:[e.jsx(v,{}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("header",{className:"sticky top-0 z-40 border-b border-zinc-900/60 backdrop-blur supports-[backdrop-filter]:bg-zinc-950/60",children:e.jsxs(S,{className:"flex h-16 items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("a",{href:"/",className:"relative flex items-center gap-2 group",children:[e.jsx("img",{src:"/favicon.ico",alt:"WebToMCP Logo",className:"w-8 h-8 sm:w-9 sm:h-9 transition-transform group-hover:scale-105"}),e.jsx("span",{className:"font-bold text-lg sm:text-xl leading-none",children:e.jsx(ne,{children:"WebToMCP"})})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[R,e.jsx(o,{variant:"outline",onClick:O,disabled:n,className:"border-zinc-800 bg-zinc-900 text-zinc-200 hover:bg-zinc-800",children:n?"Logging out...":"Logout"})]})]})}),e.jsxs(S,{className:"py-16 md:py-24",children:[e.jsx(i,{children:e.jsxs("div",{className:"mx-auto mb-16 max-w-3xl text-center",children:[e.jsxs(oe,{children:[e.jsx(d,{className:"h-4 w-4 text-emerald-400 mr-2"}),"Dashboard"]}),e.jsxs("h1",{className:"mt-3 text-3xl md:text-4xl font-semibold bg-gradient-to-r from-zinc-100 to-zinc-300 bg-clip-text text-transparent",children:["Welcome back,"," ",e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-emerald-300 bg-clip-text text-transparent",children:p?.full_name?.split(" ")[0]||"Developer"})]}),e.jsx("p",{className:"mt-4 text-zinc-400 text-lg leading-relaxed",children:"Manage your captures, configure MCP connections, and streamline your development workflow."})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsx(i,{delay:.1,children:e.jsx(b,{className:"border-zinc-800 bg-zinc-900/40 hover:bg-zinc-900/60 transition-all duration-300 hover:border-zinc-700/70 hover:-translate-y-1",children:e.jsx(j,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 border border-emerald-500 rounded-xl flex items-center justify-center group-hover:bg-emerald-500/30 group-hover:border-emerald-400 transition-all duration-300 shrink-0",children:e.jsx(F,{className:"w-6 h-6 text-emerald-400 shrink-0"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:"Web to MCP Browser Extension"}),e.jsx("p",{className:"text-zinc-400",children:"Capture any website component and send it directly to your AI coding assistant"})]})]}),e.jsxs(o,{onClick:()=>{X("chrome_webstore_link","https://chromewebstore.google.com/detail/web-to-mcp/hbnhkfkblpgjlfonnikijlofeiabolmi"),window.open("https://chromewebstore.google.com/detail/web-to-mcp/hbnhkfkblpgjlfonnikijlofeiabolmi","_blank")},className:"bg-emerald-500 hover:bg-emerald-400 text-zinc-900 font-semibold",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Install Extension"]})]})})})}),e.jsx(i,{delay:.2,children:e.jsxs(b,{className:"border-zinc-800 bg-zinc-900/40 hover:bg-zinc-900/60 transition-all duration-300 hover:border-zinc-700/70 hover:-translate-y-1",children:[e.jsxs(T,{children:[e.jsxs($,{className:"flex items-center gap-2 text-zinc-100",children:[e.jsx(ce,{className:"w-5 h-5 text-sky-400"}),"MCP Configuration"]}),e.jsx(U,{className:"text-zinc-400",children:"Copy these configurations to connect your AI tools"})]}),e.jsx(j,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsx(f,{text:u(),buttonType:"mcp-url",label:"MCP URL"}),e.jsx(f,{text:H(),buttonType:"cursor-config",label:"Cursor Config"}),e.jsx(f,{text:V(),buttonType:"claude-command",label:"Claude Command"})]})})]})}),e.jsx(i,{delay:.3,children:e.jsxs(b,{className:"border-zinc-800 bg-zinc-900/40 hover:bg-zinc-900/60 transition-all duration-300 hover:border-zinc-700/70 hover:-translate-y-1",children:[e.jsxs(T,{children:[e.jsxs($,{className:"flex items-center gap-2 text-zinc-100",children:[e.jsx(d,{className:"w-5 h-5 text-fuchsia-400"}),"Recent Captures"]}),e.jsx(U,{className:"text-zinc-400",children:"Captures are retained for 1 week only"})]}),e.jsx(j,{children:B?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(d,{className:"w-8 h-8 text-emerald-400 animate-pulse mx-auto"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Loading captures..."})]})}):y.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-zinc-400",children:"No captures found"}),e.jsx("p",{className:"text-sm text-zinc-500 mt-2",children:"Start capturing components using the browser extension"})]}):e.jsxs("div",{className:"space-y-4",children:[y.map(t=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 border border-zinc-800 rounded-lg bg-zinc-800/30 hover:bg-zinc-800/50 transition-colors gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"text-zinc-100 font-medium",children:["Capture ",t.slug.slice(0,8),"..."]}),e.jsx("p",{className:"text-sm text-zinc-400 break-all",children:e.jsx("a",{href:t.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 underline hover:no-underline transition-colors",children:t.website_url})}),e.jsxs("p",{className:"text-xs text-zinc-500",children:[Y(t.created_at)," • ",t.token_count.toLocaleString()," tokens"]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>g(t.slug,`ref-${t.slug}`),className:"text-xs border-zinc-700 bg-zinc-800 text-zinc-300 hover:bg-zinc-700",children:x===`ref-${t.slug}`?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-3 h-3 mr-1"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),"ID"]})}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>g(q(t.slug),`prompt-${t.slug}`),className:"text-xs border-zinc-700 bg-zinc-800 text-zinc-300 hover:bg-zinc-700",children:x===`prompt-${t.slug}`?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-3 h-3 mr-1"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),"Prompt"]})})]})]},t.slug)),m>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>k(t=>Math.max(1,t-1)),disabled:l===1,className:"border-zinc-700 bg-zinc-800 text-zinc-300 hover:bg-zinc-700",children:e.jsx(me,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-xs sm:text-sm text-zinc-400 px-2 sm:px-3",children:["Page ",l," of ",m]}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>k(t=>Math.min(m,t+1)),disabled:l===m,className:"border-zinc-700 bg-zinc-800 text-zinc-300 hover:bg-zinc-700",children:e.jsx(he,{className:"w-4 h-4"})})]})]})})]})})]})]})]})]})}const Me=J(function(){const{isAuthenticated:c,isLoading:n}=I();return a.useEffect(()=>{!n&&!c&&(window.location.href="/")},[c,n]),n?e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-zinc-100 antialiased relative overflow-hidden",children:[e.jsx(v,{}),e.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:e.jsx(i,{children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(d,{className:"w-12 h-12 text-emerald-400 animate-pulse mx-auto"}),e.jsx("p",{className:"text-zinc-400",children:"Loading dashboard..."})]})})})]}):c?e.jsx(ge,{}):e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-zinc-100 antialiased relative overflow-hidden",children:[e.jsx(v,{}),e.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:e.jsx(i,{children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(d,{className:"w-12 h-12 text-emerald-400 animate-pulse mx-auto"}),e.jsx("p",{className:"text-zinc-400",children:"Redirecting to home..."})]})})})]})});export{Me as default,ke as meta};
